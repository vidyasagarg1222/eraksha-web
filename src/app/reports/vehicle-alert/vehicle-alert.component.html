<div class="container my-4">
  <mat-card class="mat-elevation-z8">
    <div class="row">
      <div class="col">
        <mat-form-field>
          <mat-label>Select Ps</mat-label>
          <mat-select matNativeControl name="psName" [(ngModel)]="psName" (ngModelChange)="getVehicles(psName)">
            <mat-option *ngFor="let ps of policestations" [value]="ps">
              {{ps.psName}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col">
        <!-- <select name="vehicleNumber" [(ngModel)]="vehicleNumber" class="form-control">
              <option value="" disabled> Select Vehicle</option>
              <option *ngFor="let vehicle of vehicles">{{vehicle.vehicleNumber}}</option>
            </select> -->
        <mat-form-field>
          <mat-label>Select Vehicle</mat-label>
          <mat-select matNativeControl name="vehicleNumber" [(ngModel)]="vehicleNumber">
            <mat-option *ngFor="let vehicle of vehicles" [value]="vehicle.vehicleNumber">
              {{vehicle.vehicleNumber}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field>
          <input [owlDateTime]="dt1" matInput [(ngModel)]="startDate" [owlDateTimeTrigger]="dt1"
            placeholder="Start Date">
        </mat-form-field>
        <owl-date-time #dt1></owl-date-time>
      </div>
      <div class="col">
        <mat-form-field>
          <input [owlDateTime]="dt2" matInput [(ngModel)]="endDate" [owlDateTimeTrigger]="dt2" placeholder="End Date">
        </mat-form-field>
        <owl-date-time #dt2></owl-date-time>
      </div>
      <div class="col">
        <button mat-raised-button color="warn" class="mx-2" (click)="searchList()">Search</button>
        <button mat-raised-button color="warn" (click)="clearList()">Clear</button>
      </div>
    </div>
  </mat-card>

</div>
<div class="container">
  <!-- <mat-card> -->
    <div class="row">
      <!-- <div class="col"> -->
        <table mat-table [dataSource]="alertTotals" class="mat-elevation-z8" *ngIf="isShown" style="width: 100% !important">
          <ng-container matColumnDef="_id">
            <th mat-header-cell *matHeaderCellDef> Vehicle No </th>
            <td mat-cell *matCellDef="let alert"> {{alert._id}} </td>
          </ng-container>
          <ng-container matColumnDef="outofareatotal">
            <th mat-header-cell *matHeaderCellDef> Geo-fence crossed </th>
            <td mat-cell *matCellDef="let alert"> {{alert.outofareatotal}} </td>
          </ng-container>
          <ng-container matColumnDef="idletotal">
            <th mat-header-cell *matHeaderCellDef> Idle Total </th>
            <td mat-cell *matCellDef="let alert"> {{alert.idletotal}} </td>
          </ng-container>
          <ng-container matColumnDef="overspeedtotal">
            <th mat-header-cell *matHeaderCellDef> Overspeed Total </th>
            <td mat-cell *matCellDef="let alert"> {{alert.overspeedtotal}} </td>
          </ng-container>
          <ng-container matColumnDef="tampertotal">
            <th mat-header-cell *matHeaderCellDef> Tamper Total </th>
            <td mat-cell *matCellDef="let alert"> {{alert.tampertotal}} </td>
          </ng-container>
          <ng-container matColumnDef="alertTotal">
            <th mat-header-cell *matHeaderCellDef> Total </th>
            <td mat-cell *matCellDef="let alert"> {{alert.alertTotal}} </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      <!-- </div> -->
    </div>

  <!-- </mat-card> -->
</div>

<!-- <div class="container my-4" *ngIf="isShown">
  <div class="row">
    <div class="col">
      <p-table [value]="alertTotals" autoLayout="true">

        <ng-template pTemplate="header" let-columns>
          <tr>
            <th>#</th>
            <th>Vehicle No</th>
            <th>Geo-fence crossed</th>
            <th>Idle Total</th>
            <th>Overspeed Total</th>
            <th>Tamper Total</th>
            <th>Total</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-result ngFor let-i="rowIndex+1" ;>
          <tr [pSelectableRow]="result">
            <td>{{i}}</td>
            <td>{{result._id}}</td>
            <td>{{result.outofareatotal}}</td>
            <td>{{result.idletotal}} </td>
            <td>{{result.overspeedtotal}} </td>
            <td>{{result.tampertotal}} </td>
            <td>{{result.alertTotal}} </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div> -->